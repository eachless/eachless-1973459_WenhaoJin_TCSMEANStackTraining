//load all required module
let app =require("express")();

let bodyParser = require("body-parser");
let mongoose = require("mongoose");

//database url details
let url ="mongodb:localhost:27017/meanstack";

//middleware
app.use(bodyParser.urlencoded({extended:true}));    //enable body data
app.use(bodyParser.json());          //json data


//creating the reference of 
//mongoose.Promise =glboal.Promise;

//database connect without warring

const mongooseDbOption ={       // to avoid warning 
    useNewUrlParser: true,
    useUnifiedTopology: true
}
mongoose.connect(url,mongooseDbOption); ///ready to connect


//connect the data 
mongoose.connection

//link to router module
var Product = require("./rotuer/product.router")


//Middleware
app.use("/product",Product);

app.listen(9090,()=>console.log("server running on port number 9090"));